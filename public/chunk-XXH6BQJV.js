import{a as D,b as R}from"./chunk-N4DDGNBN.js";import{$ as y,A as f,B as m,C as l,D as i,E as g,G as p,J as a,Ma as O,P as x,U as C,V as _,_ as E,ba as M,da as G,ea as u,fa as w,ga as F,ja as k,l as v,la as S,m as h,ma as P,ta as A,ua as I,v as b,va as L,y as c,z as s}from"./chunk-NQT3YSUQ.js";import{d as j}from"./chunk-BDKUWUDW.js";var T=j(D());var d=class n{constructor(t){this.el=t;let r=parseInt(this.el.nativeElement.style.width,10);this.el.nativeElement.style.width=r-10+"px";let e=this.el.nativeElement.parentNode,o=document.createElement("span");o.textContent="\u{1F441}\uFE0F",o.style.backgroundColor="whitesmoke",o.style.border="1px solid gray",o.style.borderRadius="5px",o.style.cursor="pointer",o.style.width="25px",o.style.textAlign="center",o.setAttribute("class","toggle"),o.addEventListener("click",()=>{this.cambiarEstado(o)}),e.appendChild(o)}_visible=!1;cambiarEstado(t){this._visible?this.ocultar(t):this.mostrar(t),this._visible=!this._visible}mostrar(t){this.el.nativeElement.setAttribute("type","text"),t.textContent="X"}ocultar(t){this.el.nativeElement.setAttribute("type","password"),t.textContent="\u{1F441}\uFE0F"}static \u0275fac=function(r){return new(r||n)(s(b))};static \u0275dir=h({type:n,selectors:[["","appMostrarPassword",""]],standalone:!0})};function V(n,t){n&1&&(l(0,"small",13),a(1,"El email es requerido"),i())}function q(n,t){n&1&&(l(0,"small",13),a(1,"El formato es invalido"),i())}function B(n,t){n&1&&(l(0,"small",13),a(1,"La contrase\xF1a es requerida"),i())}var N=class n{constructor(t,r,e,o){this.formBuilder=t;this.authService=r;this.router=e;this.usuarioService=o}formGroup;ngOnInit(){this.formGroup=this.formBuilder.group({email:["",[u.required,u.email]],contrase\u00F1a:["",u.required]})}login(){let t=this.formGroup.controls.email.value,r=this.formGroup.controls.contrase\u00F1a.value;this.authService.signInWithEmailAndPassword(t,r).then(e=>{this.usuarioService.conectarUsuario(t,!0).then(o=>{this.formGroup.reset(),this.router.navigate([""]),console.log("logeado")}).catch(o=>{this.formGroup.reset(),this.popUpMensaje("Error","Credenciales Invalidas",!0)})}).catch(e=>{this.formGroup.reset(),this.popUpMensaje("Error","Credenciales Invalidas",!0)})}accesoRapidoEmpleado(){this.formGroup.controls.email.setValue("empleado@email.com"),this.formGroup.controls.contrase\u00F1a.setValue("emple1234")}accesoRapidoAdmin(){this.formGroup.controls.email.setValue("admin@email.com"),this.formGroup.controls.contrase\u00F1a.setValue("admin1234")}popUpMensaje(t,r,e){T.default.fire(t,r,e?"error":"success")}static \u0275fac=function(r){return new(r||n)(s(A),s(O),s(E),s(R))};static \u0275cmp=v({type:n,selectors:[["app-login"]],standalone:!0,features:[x],decls:25,vars:5,consts:[["id","formContent",1,"login-form","fondo",3,"formGroup"],[1,"form-group"],["for","nombre"],["type","email","id","form3Example3","formControlName","email",1,"form-control"],["class","invalid text-danger warningForm",4,"ngIf"],["for","password"],["appMostrarPassword","","type","password","id","form3Example4","formControlName","contrase\xF1a",1,"form-control"],[1,"button-group"],["value","Ingresar","type","submit",1,"login-button",3,"click","disabled"],["value","Empleado","type","submit",1,"login-button",3,"click"],["value","Admin","type","submit",1,"login-button",3,"click"],[1,"text-center"],["routerLink","/registro",1,"link-info"],[1,"invalid","text-danger","warningForm"]],template:function(r,e){r&1&&(l(0,"form",0)(1,"h2"),a(2,"Login"),i(),l(3,"div",1)(4,"label",2),a(5,"Email"),i(),g(6,"input",3),f(7,V,2,0,"small",4)(8,q,2,0,"small",4),i(),l(9,"div",1)(10,"label",5),a(11,"Contrase\xF1a"),i(),g(12,"input",6),f(13,B,2,0,"small",4),i(),l(14,"div",7)(15,"button",8),p("click",function(){return e.login()}),a(16,"Login"),i(),l(17,"button",9),p("click",function(){return e.accesoRapidoEmpleado()}),a(18,"Acceso Empleado"),i(),l(19,"button",10),p("click",function(){return e.accesoRapidoAdmin()}),a(20,"Acceso Administrador"),i(),l(21,"div",11)(22,"p")(23,"a",12),a(24,"Registrate ac\xE1"),i()()()()()),r&2&&(m("formGroup",e.formGroup),c(7),m("ngIf",(e.formGroup.controls.email.errors==null?null:e.formGroup.controls.email.errors.required)&&e.formGroup.controls.email.touched),c(),m("ngIf",(e.formGroup.controls.email.errors==null?null:e.formGroup.controls.email.errors.email)&&e.formGroup.controls.email.touched),c(5),m("ngIf",(e.formGroup.controls.contrase\u00F1a.errors==null?null:e.formGroup.controls.contrase\u00F1a.errors.required)&&e.formGroup.controls.contrase\u00F1a.touched),c(2),m("disabled",e.formGroup.invalid))},dependencies:[y,M,_,C,I,k,G,w,F,L,S,P,d],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:stretch}.login-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center;background-color:#f8f8f8;padding:40px;border-radius:5px;box-shadow:0 0 10px #0003;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin:10px 0}.button-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[_ngcontent-%COMP%]{padding:5px;border-radius:5px;border:1px solid #ccc;width:100%;max-width:300px}button[_ngcontent-%COMP%]{width:212px;margin:2px 25px;padding:10px;border:none;border-radius:5px;font-size:1rem;font-weight:700;cursor:pointer}.login-button[_ngcontent-%COMP%], .register-button[_ngcontent-%COMP%]{background-color:#7c7698;color:#fff}.login-button[_ngcontent-%COMP%]:hover, .register-button[_ngcontent-%COMP%]:hover{background-color:#b2acbd}.login-button[_ngcontent-%COMP%]:disabled{background-color:#7c7698;cursor:default}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}small[_ngcontent-%COMP%]{text-decoration:underline;display:block;width:212px}.error[_ngcontent-%COMP%]{color:red}"]})};export{N as LoginComponent};
