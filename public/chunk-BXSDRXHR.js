import{a as A}from"./chunk-D2CWWR3N.js";import{a as j,b as w}from"./chunk-BGF5TLXH.js";import{$ as _,A as u,B as d,C as l,D as t,E as o,F as f,H as c,K as r,Na as I,Q as b,V as v,W as h,aa as C,ca as x,ea as G,fa as p,ga as M,ha as E,ka as F,m as g,ma as S,na as y,ua as k,va as O,wa as P,z as s}from"./chunk-G4DFKFCW.js";import{d as N}from"./chunk-BDKUWUDW.js";var R=N(j());function T(a,n){a&1&&(t(0,"small",13),r(1,"El email es requerido"),o())}function U(a,n){a&1&&(t(0,"small",13),r(1,"El formato es invalido"),o())}function V(a,n){a&1&&(t(0,"small",13),r(1,"La contrase\xF1a es requerida"),o())}var L=class a{constructor(n,i,e,m){this.formBuilder=n;this.authService=i;this.router=e;this.usuarioService=m}formGroup;ngOnInit(){this.formGroup=this.formBuilder.group({email:["",[p.required,p.email]],contrase\u00F1a:["",p.required]})}login(){let n=this.formGroup.controls.email.value,i=this.formGroup.controls.contrase\u00F1a.value;this.authService.signInWithEmailAndPassword(n,i).then(e=>{this.usuarioService.conectarUsuario(n,!0).then(m=>{this.formGroup.reset(),this.router.navigate([""]),console.log("logeado")}).catch(m=>{this.formGroup.reset(),this.popUpMensaje("Error","Credenciales Invalidas",!0)})}).catch(e=>{this.formGroup.reset(),this.popUpMensaje("Error","Credenciales Invalidas",!0)})}accesoRapidoEmpleado(){this.formGroup.controls.email.setValue("empleado@email.com"),this.formGroup.controls.contrase\u00F1a.setValue("emple1234")}accesoRapidoAdmin(){this.formGroup.controls.email.setValue("admin@email.com"),this.formGroup.controls.contrase\u00F1a.setValue("admin1234")}popUpMensaje(n,i,e){R.default.fire(n,i,e?"error":"success")}static \u0275fac=function(i){return new(i||a)(u(k),u(I),u(_),u(w))};static \u0275cmp=g({type:a,selectors:[["app-login"]],standalone:!0,features:[b],decls:25,vars:5,consts:[["id","formContent",1,"login-form","fondo",3,"formGroup"],[1,"form-group"],["for","nombre"],["type","email","id","form3Example3","formControlName","email",1,"form-control"],["class","invalid text-danger warningForm",4,"ngIf"],["for","password"],["appMostrarPassword","","type","password","id","form3Example4","formControlName","contrase\xF1a",1,"form-control"],[1,"button-group"],["value","Ingresar","type","submit",1,"login-button",3,"click","disabled"],["value","Empleado","type","submit",1,"login-button",3,"click"],["value","Admin","type","submit",1,"login-button",3,"click"],[1,"text-center"],["routerLink","/registro",1,"link-info"],[1,"invalid","text-danger","warningForm"]],template:function(i,e){i&1&&(t(0,"form",0)(1,"h2"),r(2,"Login"),o(),t(3,"div",1)(4,"label",2),r(5,"Email"),o(),f(6,"input",3),d(7,T,2,0,"small",4)(8,U,2,0,"small",4),o(),t(9,"div",1)(10,"label",5),r(11,"Contrase\xF1a"),o(),f(12,"input",6),d(13,V,2,0,"small",4),o(),t(14,"div",7)(15,"button",8),c("click",function(){return e.login()}),r(16,"Login"),o(),t(17,"button",9),c("click",function(){return e.accesoRapidoEmpleado()}),r(18,"Acceso Empleado"),o(),t(19,"button",10),c("click",function(){return e.accesoRapidoAdmin()}),r(20,"Acceso Administrador"),o(),t(21,"div",11)(22,"p")(23,"a",12),r(24,"Registrate ac\xE1"),o()()()()()),i&2&&(l("formGroup",e.formGroup),s(7),l("ngIf",(e.formGroup.controls.email.errors==null?null:e.formGroup.controls.email.errors.required)&&e.formGroup.controls.email.touched),s(),l("ngIf",(e.formGroup.controls.email.errors==null?null:e.formGroup.controls.email.errors.email)&&e.formGroup.controls.email.touched),s(5),l("ngIf",(e.formGroup.controls.contrase\u00F1a.errors==null?null:e.formGroup.controls.contrase\u00F1a.errors.required)&&e.formGroup.controls.contrase\u00F1a.touched),s(2),l("disabled",e.formGroup.invalid))},dependencies:[C,x,h,v,O,F,G,M,E,P,S,y,A],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:stretch}.login-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center;background-color:#f8f8f8;padding:40px;border-radius:5px;box-shadow:0 0 10px #0003;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin:10px 0}.button-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[_ngcontent-%COMP%]{padding:5px;border-radius:5px;border:1px solid #ccc;width:100%;max-width:300px}button[_ngcontent-%COMP%]{width:212px;margin:2px 25px;padding:10px;border:none;border-radius:5px;font-size:1rem;font-weight:700;cursor:pointer}.login-button[_ngcontent-%COMP%], .register-button[_ngcontent-%COMP%]{background-color:#7c7698;color:#fff}.login-button[_ngcontent-%COMP%]:hover, .register-button[_ngcontent-%COMP%]:hover{background-color:#b2acbd}.login-button[_ngcontent-%COMP%]:disabled{background-color:#7c7698;cursor:default}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}small[_ngcontent-%COMP%]{text-decoration:underline;display:block;width:212px}.error[_ngcontent-%COMP%]{color:red}"]})};export{L as LoginComponent};
